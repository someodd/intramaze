<html>
    <head>
        <title>Create New Room</title>
        <script>
            // FIXME: should be able to automatically stringify/json
            // a form data without explicit creation of an object
            async function makeRoom() {
                const description = document.getElementById( "description" );
                const object =  {
                    description: description.value
                };
                const response = await fetch('http://localhost:3000/rooms', {
                    method: 'POST',
                    body: JSON.stringify(object)
                });
                const responseJSON = await response.json();
                console.log(responseJSON);
                window.location.replace(`/${responseJSON[0]}`); // based on response text
                }
        </script>
    </head>
    <body>
        <!-- fixme: the form should have a javascript listener not an onclick attrib -->
            <textarea name="description" id="description" placeholder="description of the room. useful for searching for rooms."></textarea>
            <input type="submit" onclick="makeRoom();">

    </body>
</html>